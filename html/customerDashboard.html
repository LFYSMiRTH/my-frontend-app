<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Customer Dashboard - TMBYN CAFE</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/customerDashboard.css">
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="/Logo/TambayanLogo.png" alt="TMBYN CAFE" class="logo-img" />
        <div class="logo-text">TBYN CAFE</div>
      </div>
      <div class="nav-section">MAIN</div>
      <a href="#" class="nav-item active" data-view="dashboard">
        <i class="ri-home-4-line"></i> Dashboard
      </a>
      <a href="#" class="nav-item" data-view="menu">
        <i class="ri-menu-2-line"></i> Menu
      </a>
      <a href="#" class="nav-item">
        <i class="ri-shopping-bag-line"></i> My Orders
      </a>
      <a href="#" class="nav-item">
        <i class="ri-notification-3-line"></i> Notifications
      </a>
      <a href="#" class="nav-item">
        <i class="ri-user-settings-line"></i> Profile Settings
      </a>
      <a href="#" class="nav-item logout">
        <i class="ri-logout-box-r-line"></i> Logout
      </a>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Dashboard View -->
      <div id="dashboardView" class="view active">
        <div class="header">
          <h1 class="welcome">Welcome back, Guest!</h1>
          <div class="bell-container">
            <i class="ri-bell-line bell"></i>
            <span class="notification-badge">0</span>
          </div>
        </div>
        <section class="section">
          <h2 class="section-title"><i class="ri-file-list-3-line"></i> Recent Orders</h2>
          <table class="orders-table">
            <thead><tr><th>Order #</th><th>Date</th><th>Status</th><th>Total</th></tr></thead>
            <tbody></tbody>
          </table>
        </section>
        <section class="section">
          <h2 class="section-title"><i class="ri-star-line"></i> You might like…</h2>
          <div class="favorites-grid"></div>
        </section>
        <section class="section">
          <h2 class="section-title"><i class="ri-time-line"></i> Order Status Tracker</h2>
          <p><strong>Current Order: <span id="currentOrderText">No active order</span></strong></p>
          <div class="tracker">
            <div class="step">
              <div class="step-circle"><i class="ri-loader-2-fill"></i></div>
              <div class="step-label">Preparing</div>
            </div>
            <div class="step">
              <div class="step-circle"><i class="ri-check-line"></i></div>
              <div class="step-label">Ready</div>
            </div>
            <div class="step">
              <div class="step-circle"><i class="ri-truck-line"></i></div>
              <div class="step-label">Served</div>
            </div>
          </div>
          <p><small id="trackerTime">Last updated: just now</small></p>
        </section>
      </div>

      <!-- Menu View -->
      <div id="menuView" class="view">
        <div class="header">
          <h2>Menu</h2>
          <div class="cart-badge">
            <i class="ri-shopping-cart-line"></i>
            <span id="cartCount">0</span>
          </div>
        </div>
        <div class="controls">
          <input type="text" id="menuSearch" placeholder="Search menu items..." />
          <div class="category-filters">
            <button class="category-btn active" data-category="all">All</button>
            <button class="category-btn" data-category="Drinks">Drinks</button>
            <button class="category-btn" data-category="Sandwiches">Sandwiches</button>
            <button class="category-btn" data-category="Desserts">Desserts</button>
          </div>
        </div>
        <div class="menu-grid" id="menuGrid"></div>
        <div class="checkout-bar">
          <div class="cart-summary">
            <span id="cartTotal">₱0.00</span>
            <span id="cartItemCount">0 items</span>
          </div>
          <button id="checkoutBtn" class="checkout-btn" disabled>Place Order</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal -->
  <div class="modal" id="itemModal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <div class="modal-body">
        <img id="modalImage" src="/image/placeholder-menu.jpg" alt="Item" />
        <h2 id="modalName"></h2>
        <p id="modalPrice"></p>
        <p><strong>Category:</strong> <span id="modalCategory"></span></p>
        <p><strong>Ingredients:</strong></p>
        <ul id="modalIngredients"></ul>
        <p id="modalAvailability"></p>

        <!-- Customization Options -->
        <div class="customization-section">
          <div class="customization-group">
            <strong>Mood</strong>
            <div class="options">
              <button class="custom-option-btn" data-type="mood" data-value="Hot">
                <i class="ri-fire-line"></i> Hot
              </button>
              <button class="custom-option-btn" data-type="mood" data-value="Ice">
                <i class="ri-snowy-line"></i> Ice
              </button>
            </div>
          </div>

          <div class="customization-group">
            <strong>Size</strong>
            <div class="options">
              <button class="custom-option-btn" data-type="size" data-value="S">S</button>
              <button class="custom-option-btn" data-type="size" data-value="M">M</button>
              <button class="custom-option-btn" data-type="size" data-value="L">L</button>
            </div>
          </div>

          <div class="customization-group">
            <strong>Sugar</strong>
            <div class="options">
              <button class="custom-option-btn" data-type="sugar" data-value="30%">30%</button>
              <button class="custom-option-btn" data-type="sugar" data-value="50%">50%</button>
              <button class="custom-option-btn" data-type="sugar" data-value="70%">70%</button>
            </div>
          </div>
        </div>

        <!-- Quantity & Add Button -->
        <div class="modal-actions">
          <input type="number" id="modalQuantity" min="1" value="1" />
          <button id="modalAddToCart" class="add-btn">Add to Billing</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/js/customerDashboard.js"></script>
  <script>
    console.log("Customer Dashboard loaded!");
    console.log("Token:", localStorage.getItem('customerToken'));
    console.log("Customer Info:", localStorage.getItem('customerInfo'));
  </script>
  <script>
    console.log("Customer token on dashboard:", localStorage.getItem('customerToken'));
  </script>
</body>
</html>